
LOAD_YSSCSICD			PROC
						MOV		WORD PTR [LOAD_YSSCSICD_BUFFADDR],0
						MOV		BX,CS:[INCOMING_BX]
						CMP		BL,2
						JNE		@f
						JMP		LOAD_YSSCSICD_FD
@@:
						; CMP		BL,1
						; JNE		@f
						; JMP		LOAD_YSSCSICD_HD
@@:
						RET


LOAD_YSSCSICD_FD:
						PUSH	DS

						MOV		AX,YSSCSICD_FD_BEGIN_TRACK*2+YSSCSICD_FD_BEGIN_SIDE
						MOV		CS:[LOAD_YSSCSICD_TRK_SIDE],AX

						MOV		AX,YSSCSICD_SEGMENT
						MOV		DS,AX

@@:
						MOV		AH,05H	 ; Read Sector
						MOV		AL,CS:[LOADER_BIOS_DEVICE_ID]
						MOV		CX,CS:[LOAD_YSSCSICD_TRK_SIDE]
						XOR		DH,DH
						SHR		CX,1
						RCL		DH,1
						MOV		DL,1
						MOV		BX,8
						MOV		DI,CS:[LOAD_YSSCSICD_BUFFADDR]

						; How can I write CALL 		FAR PTR 0FFFBH:0014H
						DB		9AH		; CALLF FFFB:0014
						DW		 0014H
						DW		0FFFBH

						JB		@f

						INC		WORD PTR CS:[LOAD_YSSCSICD_TRK_SIDE]
						ADD		WORD PTR CS:[LOAD_YSSCSICD_BUFFADDR],8192
						MOV		DI,CS:[LOAD_YSSCSICD_BUFFADDR]
						CMP		DI,0C000H
						JB		@b

						MOV		BYTE PTR CS:[YSSCSICD_LOADED],1

@@:
						POP		DS
						RET

LOAD_YSSCSICD			ENDP

LOAD_YSSCSICD_TRK_SIDE	DW	0
LOAD_YSSCSICD_BUFFADDR	DW	0
